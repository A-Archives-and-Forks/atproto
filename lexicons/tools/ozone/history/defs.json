{
  "lexicon": 1,
  "id": "tools.ozone.history.defs",
  "defs": {
    "subjectBasicView": {
      "type": "object",
      "required": ["subject", "status", "reviewState", "subjectProfile"],
      "properties": {
        "subject": {
          "type": "string",
          "format": "uri"
        },
        "status": {
          "type": "string"
        },
        "reviewState": {
          "type": "string"
        },
        "subjectProfile": {
          "type": "ref",
          "ref": "app.bsky.actor.defs#profileViewBasic"
        },
        "labels": {
          "type": "array",
          "items": {
            "type": "ref",
            "ref": "com.atproto.label.defs#label"
          }
        }
      }
    },
    "eventView": {
      "type": "object",
      "required": ["subject", "uri", "createdAt", "event"],
      "properties": {
        "subject": {
          "type": "string",
          "format": "uri"
        },
        "uri": {
          "type": "string",
          "format": "uri"
        },
        "createdAt": {
          "type": "string",
          "format": "datetime"
        },
        "event": {
          "type": "union",
          "refs": [
            "#eventTakedown",
            "#eventLabel",
            "#eventReport",
            "#eventEmail",
            "#eventResolve"
          ]
        }
      }
    },
    "eventTakedown": {
      "type": "object",
      "description": "Take down a subject permanently or temporarily",
      "properties": {
        "comment": {
          "type": "string"
        },
        "durationInHours": {
          "type": "integer",
          "description": "Indicates how long the takedown should be in effect before automatically expiring."
        }
      }
    },
    "eventLabel": {
      "type": "object",
      "description": "Apply/Negate labels on a subject",
      "required": ["createLabelVals", "negateLabelVals"],
      "properties": {
        "comment": {
          "type": "string"
        },
        "createLabelVals": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "negateLabelVals": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "eventReport": {
      "type": "object",
      "description": "Report a subject",
      "required": ["reportType"],
      "properties": {
        "comment": {
          "type": "string"
        },
        "reportType": {
          "type": "ref",
          "ref": "com.atproto.moderation.defs#reasonType"
        }
      }
    },
    "eventEmail": {
      "type": "object",
      "description": "Keep a log of outgoing email to a user",
      "required": ["subjectLine"],
      "properties": {
        "subjectLine": {
          "type": "string",
          "description": "The subject line of the email sent to the user."
        },
        "content": {
          "type": "string",
          "description": "The content of the email sent to the user."
        },
        "comment": {
          "type": "string",
          "description": "Additional comment about the outgoing comm."
        }
      }
    },
    "eventResolve": {
      "type": "object",
      "description": "Resolve or acknowledge an event on a subject",
      "properties": {
        "comment": {
          "type": "string",
          "description": "Describe the resolution or acknowledgment."
        }
      }
    }
  }
}
