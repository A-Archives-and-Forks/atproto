{
  "lexicon": 1,
  "id": "com.atproto.server.defs",
  "defs": {
    "inviteCode": {
      "type": "object",
      "required": ["code", "available", "disabled", "forAccount", "createdBy", "createdAt", "uses"],
      "properties": {
        "code": {"type": "string"},
        "available": {"type": "integer"},
        "disabled": {"type": "boolean"},
        "forAccount": {"type": "string"},
        "createdBy": {"type": "string"},
        "createdAt": {"type": "string", "format": "datetime"},
        "uses": {
          "type": "array",
          "items": {"type": "ref", "ref": "#inviteCodeUse"}
        }
      }
    },
    "inviteCodeUse": {
      "type": "object",
      "required": ["usedBy", "usedAt"],
      "properties": {
        "usedBy": {"type": "string", "format": "did"},
        "usedAt": {"type": "string", "format": "datetime"}
      }
    },
    "challengeView": {
      "type": "object",
      "description": "Account's view of the multifactor challenge when logged-in.",
      "required": ["id", "status", "settings"],
      "properties": {
        "id": {"type": "string"},
        "status": {"type": "string", "knownValues": ["verified", "unverified"]},
        "settings": {
          "type": "union",
          "refs": [
            "com.atproto.server.defs#challengeEmailView"
          ]
        }
      }
    },
    "challengeViewPublic": {
      "type": "object",
      "description": "Account's view of the multifactor challenge when performing auth.",
      "required": ["id", "settings"],
      "properties": {
        "id": {"type": "string"},
        "settings": {
          "type": "union",
          "refs": [
            "com.atproto.server.defs#challengeEmailViewPublic"
          ]
        }
      }
    },
    "challengeViewPrivate": {
      "type": "object",
      "description": "Account's view of the multifactor challenge immediately after it is added, possibly including secrets.",
      "required": ["id", "status", "settings"],
      "properties": {
        "id": {"type": "string"},
        "status": {"type": "string", "knownValues": ["verified", "unverified"]},
        "settings": {
          "type": "union",
          "refs": [
            "com.atproto.server.defs#challengeEmailView"
          ]
        }
      }
    },
    "challengeSettings": {
      "type": "object",
      "description": "Settings that an account may set when adding the multifactor challenge.",
      "required": ["settings"],
      "properties": {
        "default": {"type": "boolean"},
        "settings": {
          "type": "union",
          "refs": [
            "com.atproto.server.defs#challengeEmailSettings"
          ]
        }
      }
    },
    "challengeEmailView": {
      "type": "object",
      "required": ["email"],
      "properties": {
        "email": {"type": "string"}
      }
    },
    "challengeEmailViewPublic": {
      "type": "object",
      "properties": {
        "emailRedacted": {"type": "string"}
      }
    },
    "challengeEmailSettings": {
      "type": "object",
      "required": ["email"],
      "properties": {
        "email": {"type": "string"}
      }
    },
    "challengeEmailParams": {
      "type": "object",
      "properties": {}
    }
  }
}
